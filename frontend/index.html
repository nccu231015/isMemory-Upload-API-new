<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>短影音分析工具</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <h1>短影音分析工具</h1>
        <div class="input-form">
            <!-- 選擇分析類型 -->
            <div class="form-group">
                <label>選擇分析類型：</label>
                <div class="type-selector">
                    <button type="button" id="video-type-btn" class="type-btn active">影片分析</button>
                    <button type="button" id="image-type-btn" class="type-btn">圖片分析</button>
                </div>
            </div>
            
            <!-- 影片分析區域 -->
            <div id="video-section" class="analysis-section">
                <div class="form-group">
                    <label for="video-url">影片連結：</label>
                    <input type="text" id="video-url" placeholder="請輸入YouTube Shorts、TikTok或Instagram Reels影片連結">
                </div>
                
                <div class="form-group">
                    <div class="info-text">
                        <p>支援的影片格式：</p>
                        <ul>
                            <li>YouTube Shorts (例如：youtube.com/shorts/...)</li>
                            <li>TikTok 影片 (例如：tiktok.com/@用戶/video/...)</li>
                            <li>Instagram Reels (例如：instagram.com/reels/...)</li>
                        </ul>
                        <p><em>系統會自動識別影片平台，無需手動選擇</em></p>
                    </div>
                </div>
            </div>
            
            <!-- 圖片分析區域 -->
            <div id="image-section" class="analysis-section hidden">
                <div class="form-group">
                    <label for="image-upload">選擇圖片：</label>
                    <div class="file-upload-area">
                        <input type="file" id="image-upload" accept="image/*" style="display: none;">
                        <div id="upload-area" class="upload-dropzone">
                            <div class="upload-icon">📷</div>
                            <p>點擊選擇圖片或拖拽圖片到此處</p>
                            <p class="upload-hint">支援 JPG、PNG、GIF 等格式</p>
                        </div>
                        <div id="image-preview" class="image-preview hidden">
                            <img id="preview-img" alt="預覽圖片">
                            <p id="image-info"></p>
                            <button type="button" id="remove-image" class="remove-btn">移除圖片</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 共用設置 -->
            <div class="form-group">
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" id="store-in-db" checked>
                        保存到資料庫
                    </label>
                </div>
            </div>
            
            <button id="submit-btn">開始分析</button>
        </div>
        
        <div id="loading" class="hidden">
            <div class="spinner"></div>
            <p>正在分析中，請稍候...</p>
        </div>
        
        <div id="results" class="hidden">
            <h2>分析結果</h2>
            
            <div class="result-card">
                <h3>影片摘要</h3>
                <p id="summary"></p>
            </div>
            
            <div class="result-section">
                <div class="result-card">
                    <h3>重要時間</h3>
                    <p id="important-time">無</p>
                </div>
                
                <div class="result-card">
                    <h3>重要地點</h3>
                    <p id="important-location">無</p>
                </div>
            </div>
            
            <div class="result-card">
                <h3>文字內容</h3>
                <div class="scrollable-content" id="ocr-text"></div>
            </div>
            
            <div class="result-card">
                <h3>字幕內容</h3>
                <div class="scrollable-content" id="caption"></div>
            </div>
            
            <div class="original-link">
                <a id="original-link" href="#" target="_blank">查看原始影片</a>
            </div>
        </div>
    </div>
    
    <script src="/static/script.js"></script>
</body>
</html>